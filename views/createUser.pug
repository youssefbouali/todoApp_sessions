extends layout

block content
  h2 Sign Up
  form(action="/users" method="POST")
    //label(for="email") Email:
    input(type="email" name="email" id="email" placeholder="Email" required)
    br
    //label(for="username") Username:
    input(type="text" name="name" id="username" placeholder="Username" required)
    br
    //label(for="age") Age:
    input(type="number" name="age" id="age" placeholder="Age" required)
    br
    //label(for="password") Password:
    input(type="password" name="password" id="password" placeholder="Password" required)
    br
    button(type="submit") Sign Up
	
  script.
    const form = document.querySelector('form');
    function funcReturn (data){
      if(!isJSON(data)){
        localStorage.setItem('token', data);
        window.location.href = "/homePage";
      } else {
        alert(JSON.parse(data).error)
      }
    }
    onSubmitForm(form, funcReturn);